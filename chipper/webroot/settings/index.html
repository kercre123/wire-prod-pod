<!DOCTYPE html>
<html>
<head>
    <title>Wire-Pod Interface</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div id="outer">
    <div id="content" class="">
	<img src="img/WirePodLogo.jpg" />	
    <h1>Wire-Pod Installation</h1>
	<p>It is recommended you read <a href="https://github.com/kercre123/wire-pod/blob/main/README.md" target="_blank">README.md</a></p>
	<p>Once you have configured everything here, click the 'Setup wire-pod' button to start the installation. That button will also restart (or start) wire-pod automatically.</p>
	<p>If you are unsure what to do, just select the recommended options.</p>	
    <hr>
	<a href="/index.html">Back</a><br>
	<a href="/logs">See logs</a>
	<br>
    <h2>Installation settings</h2>
        <form id="getStartSettings">
			<h3>Speech-to-text service</h3>
			<p>Wire-pod currently supports two STT (speech-to-text) services. The recommended/default one is Coqui, because it is completely local while still being accurate and speedy on most systems. The second option is Picovoice Leopard, which is more accurate and faster than Coqui, and is local, but usage is recorded on a server. To use Picovoice, you will have to create an account at <a href="https://console.picovoice.ai">Picovoice</a> and enter your API key. The third option is VOSK, which is similar to Coqui in that it is fully local, though it is generally a lot faster.</p>
			<select onchange="showPicovoiceForm()" name="sttSettings" id="sttSettings" form="sttSettings">
				<option value="coqui_stt">Coqui STT (recommended)</option>
				<option value="picovoice_leopard">Picovoice Leopard</option>
				<option value="vosk_stt">VOSK STT</option>	
			</select><br>
			<div id="picovoiceAPIInput"></div>
			<h3>Hostname</h3>
			<p>If you are setting this up for a production bot, you must choose escapepod.local. If you are setting up for OSKR/dev-only, IP address is recommended.</p>
			<select name="hostnameSettings" id="hostnameSettings" form="hostnameSettings">
				<option value="escapepod_local">escapepod.local (required for production bots)</option>
				<option value="ip_address">IP Address (recommended for OSKR/dev bots)</option>		
			</select><br>
			<h3>Weather API</h3>
			<p>Would you like to setup weather commands? This involves creating a free account at <a href="https://weatherapi.com/" target="_blank">weatherapi.com</a> and putting in your API key. This is optional.</p>			
            <label for="weatherSettings">Do you want to setup weather API?:</label>
			<select onchange="showWeatherForm()" name="weatherSettings" id="weatherSettings" form="weatherSettings">
				<option value="weather_no">No</option>
				<option value="weather_yes">Yes</option>
			</select><br>
            <div id="weatherAPIInput"></div>
			<h3>Knowledge Graph</h3>
			<p>Would you like to setup Knowledge Graph ("I have a question")? This involves creating a free account at <a href="https://houndify.com/" target="_blank">houndify.com</a> and entering a Client Key and Client ID for one of your domains.<br /> Note: It may look like you only get a trial, but there is an actual free tier with 100 free requests per day.<br />This is optional.</p>			
            <label for="knowledgeSettings">Do you want to setup Knowledge Graph?:</label>
			<select onchange="showHoundForm()" name="knowledgeSettings" id="knowledgeSettings" form="knowledgeSettings">
				<option value="houndify_no">No</option>
				<option value="houndify_yes">Yes</option>
			</select><br>
            <div id="houndifyInput"></div>		
        </form>
        <button onclick="setupPod()">Setup wire-pod</button>
		<hr>
		<h2>Set up OSKR/dev bot</h2>
		<p>Once you have setup wire-pod, use this form to setup your OSKR/dev-unlocked bot. If you have a prod bot, skip this.</p>
		<p>Setting the bot up should take about 10-20 seconds.</p>
		<form id="setupBot">
			<div id="setupBotOutput"></div>
			<label for="sshKeyfile">Upload your bot's SSH key:</label>
			<input type="file" id="sshKeyfile" name="sshKeyfile">
			<label for="botIP">Enter your bot's IP address:</label>
			<input type="text" id="botIP" name="botIP">
		</form>		
		<button onclick="setupBot()">Setup Bot</button>
    <hr>
</div>	
</div>
</body>
<script src="./js/main.js"></script>
</html>
