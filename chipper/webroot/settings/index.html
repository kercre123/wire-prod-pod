<!DOCTYPE html>
<html>
<head>
    <title>Wire-Pod Interface</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div id="outer">
    <div id="content" class="">
	<img src="img/WirePodLogo.jpg" />	
    <h1>Wire-Pod Installation</h1>
	<p>It is recommended you read <a href="https://github.com/kercre123/wire-pod/blob/main/README.md" target="_blank">README.md</a></p>
	<p>Once you have configured everything here, click the 'Setup wire-pod' button to start the installation. That button will also restart (or start) wire-pod automatically.</p>
	<p>If you are unsure what to do, just select the recommended options.</p>	
    <hr>
	<a href="/index.html">Back</a><br>
	<a href="/logs">See logs</a>
	<br>
    <h2>Installation settings</h2>
        <form id="getStartSettings">
			<h3>Speech-to-text service</h3>
			<p>Wire-pod currently supports three STT (speech-to-text) services.</p>
			<ul>
			<li>- VOSK: recommended, fast, local, accurate</li>
			<li>- Picovoice: fast, more accurate than VOSK, usage collected, requires you to enter an API key from <a href="https://console.picovoice.ai">Picovoice</a></li>
			<li>- Coqui: slower but generally accurate</li>
			</ul>
			<select onchange="showPicovoiceForm()" name="sttSettings" id="sttSettings" form="sttSettings">
				<option value="vosk_stt">VOSK STT (recommended)</option>
				<option value="picovoice_leopard">Picovoice Leopard</option>
				<option value="coqui_stt">Coqui STT</option>
			</select><br>
			<div id="picovoiceAPIInput"></div>
			<h3>Hostname</h3>
			<p>If you are setting this up for a production bot, you must choose escapepod.local. If you are setting up for OSKR/dev-only, IP address is recommended.</p>
			<select name="hostnameSettings" id="hostnameSettings" form="hostnameSettings">
				<option value="escapepod_local">escapepod.local (required for production bots)</option>
				<option value="ip_address">IP Address (recommended for OSKR/dev bots)</option>		
			</select><br>
			<h3>Weather</h3>
			<p>Would you like to setup weather commands? This involves creating a free account at <a href="https://openweathermap.org" target="_blank">openweathermap.org</a> and putting in your API key. This is optional.</p>			
            <label for="weatherSettings">Do you want to setup weather commands?:</label>
			<select onchange="showWeatherForm()" name="weatherSettings" id="weatherSettings" form="weatherSettings">
				<option value="weather_no">No</option>
				<option value="weather_yes">Yes</option>
			</select><br>
            <div id="weatherAPIInput"></div>
			<h3>Knowledge Graph</h3>
			<p>Would you like to setup Knowledge Graph ("I have a question")?</p>
			<p>OpenAI: This involves creating an account at <a href="https://beta.openai.com/signup">openai.com</a>, generating an API key, and entering it at this page.</p>
			<small>Using OpenAI allows you to enable the Intent Graph feature, which makes it so if the speech isn't understood by wire-pod, it gets sent to OpenAI and the bot says the response from there instead.</small>
			<p>Houndify: This involves creating a free account at <a href="https://houndify.com/" target="_blank">houndify.com</a> and entering a Client Key and Client ID for one of your domains.</p>
			<p>This is optional.</p>			
            <label for="knowledgeSettings">Do you want to setup Knowledge Graph?:</label>
			<select onchange="showKnowledgeForm()" name="knowledgeSettings" id="knowledgeSettings" form="knowledgeSettings">
				<option value="knowledge_no">No</option>
				<option value="knowledge_openai">OpenAI</option>
				<option value="knowledge_houndify">Houndify</option>
			</select><br>
            <div id="knowledgeInput"></div>
        </form>
        <button onclick="setupPod()">Setup wire-pod</button>
		<hr>
		<h2>Set up a regular production bot</h2>
		<p>Make sure your bot is on the escape pod software (instructions in the wiki).</p>
		<p>It is recommended to clear user data, but it is not required.</p>
		<p>Go to this site on a Bluetooth-enabled device and follow the directions to set up your Vector: <a href="https://keriganc.com/vector-epod-setup">https://keriganc.com/vector-epod-setup</a></p>
		<hr>
		<h2>Set up OSKR/dev-unlocked bot</h2>
		<p>Once you have setup wire-prod-pod, use this form to setup your OSKR/dev-unlocked bot. If you have a prod bot, skip this.</p>
		<p>Setting the bot up may take up to ~30 seconds.</p>
		<p>An SSH key is not necessary if you are on WireOS or if you are on an old dev firmware.</p>
		<p>Once your bot is back on the Onboarding screen (blinking V), go to this site on any Bluetooth-enabled device and follow the directions to set up your Vector: <a href="https://keriganc.com/vector-epod-setup">https://keriganc.com/vector-epod-setup</a></p>
		<form id="setupBot">
			<div id="setupBotOutput"></div>
			<label for="sshKeyfile">Upload your bot's SSH key:</label>
			<input type="file" id="sshKeyfile" name="sshKeyfile">
			<label for="botIP">Enter your bot's IP address:</label>
			<input type="text" id="botIP" name="botIP">
		</form>		
		<button onclick="setupBot()">Setup Bot</button>
    <hr>
</div>	
</div>
</body>
<script src="./js/main.js"></script>
</html>
